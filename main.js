!function(t,e,n){var r=function(){for(var t=arguments,e=t[0],n=1;n<t.length;++n)for(var r in t[n])t[n].hasOwnProperty(r)&&(e[r]=t[n][r]);return e},i=function(t){var r="classList"in e.body;return{g:r?function(t,e){t.classList.add(e)}:function(t,e){this.h(t,e)||(t.className+=" "+e)},addListener:function(){return e.addEventListener&&function(t,e,n,r){t.addEventListener(e,n,r||!1)}||e.attachEvent&&function(t,e,n){t.attachEvent("on"+e,n)}||function(t,e,n){t["on"+e]=n}}(),h:r?function(t,e){return t.classList.contains(e)}:function(t,e){return new RegExp("\\b"+e).exec(t.className)},i:function(t){return!!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},j:r?function(t,e){t.classList.remove(e)}:function(t,e){t.className=t.className.replace(new RegExp("\\b"+e,"g"),"")},removeListener:function(){var t=e.removeEventListener||e.detachEvent&&function(t,e){this.detachEvent("on"+t,e)}||function(t,e){this["on"+t]===e&&(this["on"+t]=n)};return function(e,n,r,i){return t.call(e,n,r,i||!1)}}()}}(e.body),s={k:function(t){"object"==typeof t&&r(this,t)},create:function(t){t||(t={}),t.l||(t.l=this.k);var e=function(){this instanceof e&&(t.m?t.m.apply(this,arguments):t.l.apply(this,arguments))};return r(e.prototype,t),e}};!function(){if("querySelectorAll"in e){var r=s.create({m:function(){var n=this;if(n.l.apply(n,arguments),this.o=[],!n.p&&n.q){n.p=[];var r=n.q.querySelectorAll("tbody tr");n.rows||(n.rows=r.length);for(var s=0;s<r.length;++s){var a=[],u=r[s].querySelectorAll(".c");n.columns||(n.columns=u.length);for(var c=0;c<u.length;++c)a.push(new o({s:u[c]}));n.p.push(a)}}if(n.t||(n.t=e.querySelector(".gameControls")),n.u=n.t.querySelector(".previousTick"),n.u&&(n.u.hasAttribute("href")&&(n.v=n.u.getAttribute("href")),n.u=n.A(n.u),i.addListener(n.u,"click",function(){n.B()})),n.C=n.t.querySelector(".nextTick"),n.C&&(n.C=n.A(n.C),i.addListener(n.C,"click",function(){n.D()})),n.F||(n.F=this.s.querySelector(".tickCount b")),!n.G){var l=e.createElement("li");l.innerHTML='<button class="playA">Play</button> ',n.G=l.querySelector("button");var h=function(){var t=n.t;t.parentNode.querySelector(":hover")===t||t.querySelector(":hover")?setTimeout(function(){h()},100):t.insertBefore(l,t.querySelectorAll("li")[0])};h()}if(n.G&&(i.addListener(n.G,"click",function(){n.H()}),n.s.setAttribute("data-playing","stopped")),n.I||n.J(n.s.getAttribute("data-tick")?parseInt(n.s.getAttribute("data-tick"),10):1),!n.K)if(t.performance&&t.performance.now){var f=t.performance.now();n.D(),n.B(),n.K=t.performance.now()-f}else n.K=30;n.interval||(n.interval=t.Math.ceil(n.rows*n.columns/12+220+6*n.K))},columns:n,t:n,A:function(t){var e=t.parentNode;return e.innerHTML=e.innerHTML.replace(/<a/i,"<button").replace(/<\/a>/i,"</button>"),t=e.querySelector("button"),t.removeAttribute("href"),t},s:n,L:function(t,e){for(var n=0,r=t>0?t-1:t;t+1>=r&&r<this.rows;++r)for(var i=e>0?e-1:e;e+1>=i&&i<this.columns;++i)r===t&&i===e||!this.N(r,i).M||++n;return n},q:n,N:function(t,e){return this.p[t][e]},p:n,C:n,K:n,u:n,v:n,rows:n,I:n,F:n,interval:void 0,O:!1,G:n,H:function(){var e=this;if(e.O)e.s.setAttribute("data-playing","stopped"),e.G.innerHTML="Play",e.P&&t.clearTimeout(e.P),e.O=!1;else{e.s.setAttribute("data-playing","playing"),e.G.innerHTML="Stop";var n=function(){e.D(),e.P=t.setTimeout(n,e.interval)};n(),e.O=!0}},P:n,o:n,R:function(t){for(var e=0;e<t.length;++e)t[e].S()},J:function(e){var n=this;n.I=t.parseInt(e,10),n.F&&(n.F.innerHTML=n.I),n.u&&(1===n.I?n.u.disabled=!0:n.u.disabled&&(n.u.disabled=!1))},B:function(){var e=this;e.T||(e.o.length?(e.T=!0,e.R(e.o.pop()),e.J(e.I-1),e.T=!1):e.v&&(t.location.href=e.v))},D:function(){var t=this;if(!t.T){t.T=!0;for(var e=[],n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r){var i=t.N(n,r),s=t.L(n,r);(i.M?2!==s&&3!==s:3===s)&&e.push(i)}t.R(e),t.o.push(e),t.J(t.I+1),t.T=!1}},T:!1}),o=s.create({m:function(){this.l.apply(this,arguments),"undefined"==typeof this.M&&this.s&&(this.M=i.h(this.s,"alive")),this.s&&!this.U&&(this.U=this.s.querySelector("abbr"))},U:n,M:n,V:function(t){t!==this.M&&(this.M=t,this.s&&(t?(i.g(this.s,"alive"),i.j(this.s,"dead"),this.U&&(this.U.title="alive",this.U.innerHTML="O")):(i.j(this.s,"alive"),i.g(this.s,"dead"),this.U&&(this.U.title="dead",this.U.innerHTML="X"))))},S:function(){return this.V(!this.M)},s:n}),a=e.querySelector(".game");if(a){new r({s:a,q:e.getElementById("grid")})}}}(),function(){if("querySelectorAll"in e&&"onhashchange"in t){var r=s.create({m:function(){var e=this;e.l.apply(e,arguments),i.addListener(t,"hashchange",function(){e.W()}),e.W()},W:function(){var n=this,r=t.location.hash.replace(/^#/,"");if(r){for(var s=!1,o=0;o<n.X.length;++o)n.X[o].id===r&&(s=!0);s?(n.isOpen=n.Y=!0,i.addListener(e.body,"keyup",n.Z())):n.close()}else n.close()},close:function(){var n=this;n.isOpen&&(n.isOpen=!1,t.location.hash="#"),n.Y&&n.$&&(n.Y=!1,i.removeListener(e.body,"keyup",n.$))},X:n,$:n,Z:function(){var t=this;return t.$||(t.$=function(e){var n=!1;n="key"in e?"Escape"===e.key||"Esc"===e.key:27===e.keyCode,n&&t.close()}),t.$},isOpen:!1,Y:!1}),o=e.querySelectorAll(".pane");o&&o.length&&new r({X:o})}}()}(window,window.document);
