!function(t,e,n){var i=function(){for(var t=arguments,e=t[0],n=1;n<t.length;++n)for(var i in t[n])t[n].hasOwnProperty(i)&&(e[i]=t[n][i]);return e},r=function(t){var i="classList"in e.body;return{g:i?function(t,e){t.classList.add(e)}:function(t,e){this.h(t,e)||(t.className+=" "+e)},addListener:function(){return e.addEventListener&&function(t,e,n,i){t.addEventListener(e,n,i||!1)}||e.attachEvent&&function(t,e,n){t.attachEvent("on"+e,n)}||function(t,e,n){t["on"+e]=n}}(),h:i?function(t,e){return t.classList.contains(e)}:function(t,e){return new RegExp("\\b"+e).exec(t.className)},i:function(t){return!!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},j:i?function(t,e){t.classList.remove(e)}:function(t,e){t.className=t.className.replace(new RegExp("\\b"+e,"g"),"")},removeListener:function(){var t=e.removeEventListener||e.detachEvent&&function(t,e){this.detachEvent("on"+t,e)}||function(t,e){this["on"+t]===e&&(this["on"+t]=n)};return function(e,n,i,r){return t.call(e,n,i,r||!1)}}()}}(e.body),s={k:function(t){"object"==typeof t&&i(this,t)},create:function(t){t||(t={}),t.l||(t.l=this.k);var e=function(){this instanceof e&&(t.m?t.m.apply(this,arguments):t.l.apply(this,arguments))};return i(e.prototype,t),e}};!function(){if("querySelectorAll"in e){var i=s.create({m:function(){var t=this;if(t.l.apply(t,arguments),this.o=[],!t.p&&t.q){t.p=[];var n=t.q.querySelectorAll("tbody tr");t.rows||(t.rows=n.length);for(var i=0;i<n.length;++i){var s=[],a=n[i].querySelectorAll(".c");t.columns||(t.columns=a.length);for(var c=0;c<a.length;++c)s.push(new o({s:a[c]}));t.p.push(s)}}if(t.t||(t.t=e.querySelector(".gameControls")),t.u=t.t.querySelector(".previousTick"),r.addListener(t.u,"click",function(e){t.o.length&&!r.i(e)&&(r.preventDefault(e),t.v())}),t.A=t.t.querySelector(".nextTick"),r.addListener(t.A,"click",function(e){r.i(e)||(r.preventDefault(e),t.B())}),t.C||(t.C=t.s.getAttribute("data-tick")?parseInt(t.s.getAttribute("data-tick"),10):1),t.interval||(t.interval=window.Math.ceil(t.rows*t.columns/12+250)),t.D||(t.D=this.s.querySelector(".tickCount b")),!t.F){var u=e.createElement("li");u.innerHTML='<button class="playA">Play</button> ',t.F=u.querySelector("button");var l=function(){var e=t.t;e.parentNode.querySelector(":hover")===e||e.querySelector(":hover")?setTimeout(function(){l()},100):e.insertBefore(u,e.querySelectorAll("li")[0])};l()}t.F&&(r.addListener(t.F,"click",function(){t.G()}),t.s.setAttribute("data-playing","stopped"))},columns:n,t:n,s:n,H:function(t,e){for(var n=0,i=t>0?t-1:t;t+1>=i&&i<this.rows;++i)for(var r=e>0?e-1:e;e+1>=r&&r<this.columns;++r)i===t&&r===e||!this.J(i,r).I||++n;return n},q:n,J:function(t,e){return this.p[t][e]},p:n,A:n,u:n,rows:n,C:n,D:n,interval:void 0,K:!1,F:n,G:function(){var e=this;if(e.K)e.s.setAttribute("data-playing","stopped"),e.F.innerHTML="Play",e.L&&t.clearTimeout(e.L),e.K=!1;else{e.s.setAttribute("data-playing","playing"),e.F.innerHTML="Stop";var n=function(){e.B(),e.L=t.setTimeout(n,e.interval)};n(),e.K=!0}},L:n,o:n,M:function(t){for(var e=0;e<t.length;++e)t[e].N()},O:function(e){this.C=t.parseInt(e,10),this.D&&(this.D.innerHTML=this.C)},v:function(){var t=this;t.P||(t.o.length?(t.P=!0,t.M(t.o.pop()),t.O(t.C-1),t.P=!1):alert("There are no more previous ticks."))},B:function(){var t=this;if(!t.P){t.P=!0;for(var e=[],n=0;n<t.rows;++n)for(var i=0;i<t.columns;++i){var r=t.J(n,i),s=t.H(n,i);(r.I?2!==s&&3!==s:3===s)&&e.push(r)}t.M(e),t.o.push(e),t.O(t.C+1),t.P=!1}},P:!1}),o=s.create({m:function(){this.l.apply(this,arguments),"undefined"==typeof this.I&&this.s&&(this.I=r.h(this.s,"alive")),this.s&&!this.R&&(this.R=this.s.querySelector("abbr"))},R:n,I:n,S:function(t){t!==this.I&&(this.I=t,this.s&&(t?(r.g(this.s,"alive"),r.j(this.s,"dead"),this.R&&(this.R.title="alive",this.R.innerHTML="O")):(r.j(this.s,"alive"),r.g(this.s,"dead"),this.R&&(this.R.title="dead",this.R.innerHTML="X"))))},N:function(){return this.S(!this.I)},s:n}),a=e.querySelector(".game");if(a){new i({s:a,q:e.getElementById("grid")})}}}(),function(){if("querySelectorAll"in e&&"onhashchange"in t){var i=s.create({m:function(){var e=this;e.l.apply(e,arguments),r.addListener(t,"hashchange",function(){e.T()}),e.T()},T:function(){var n=this,i=t.location.hash.replace(/^#/,"");if(i){for(var s=!1,o=0;o<n.U.length;++o)n.U[o].id===i&&(s=!0);s?(n.isOpen=n.V=!0,r.addListener(e.body,"keyup",n.W())):n.close()}else n.close()},close:function(){var n=this;n.isOpen&&(n.isOpen=!1,t.location.hash="#"),n.V&&n.X&&(n.V=!1,r.removeListener(e.body,"keyup",n.X))},U:n,X:n,W:function(){var t=this;return t.X||(t.X=function(e){var n=!1;n="key"in e?"Escape"===e.key||"Esc"===e.key:27===e.keyCode,n&&t.close()}),t.X},isOpen:!1,V:!1}),o=e.querySelectorAll(".pane");o&&o.length&&new i({U:o})}}()}(window,window.document);
