!function(t,e,n){var i=function(){for(var t=arguments,e=t[0],n=1;n<t.length;++n)for(var i in t[n])t[n].hasOwnProperty(i)&&(e[i]=t[n][i]);return e},r=function(t){var i="classList"in e.body;return{g:i?function(t,e){t.classList.add(e)}:function(t,e){this.h(t,e)||(t.className+=" "+e)},addListener:function(){return e.addEventListener&&function(t,e,n,i){t.addEventListener(e,n,i||!1)}||e.attachEvent&&function(t,e,n){t.attachEvent("on"+e,n)}||function(t,e,n){t["on"+e]=n}}(),h:i?function(t,e){return t.classList.contains(e)}:function(t,e){return new RegExp("\\b"+e).exec(t.className)},i:function(t){return!!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},j:i?function(t,e){t.classList.remove(e)}:function(t,e){t.className=t.className.replace(new RegExp("\\b"+e,"g"),"")},removeListener:function(){var t=e.removeEventListener||e.detachEvent&&function(t,e){this.detachEvent("on"+t,e)}||function(t,e){this["on"+t]===e&&(this["on"+t]=n)};return function(e,n,i,r){return t.call(e,n,i,r||!1)}}()}}(e.body),s={k:function(t){"object"==typeof t&&i(this,t)},create:function(t){t||(t={}),t.l||(t.l=this.k);var e=function(){this instanceof e&&(t.m?t.m.apply(this,arguments):t.l.apply(this,arguments))};return i(e.prototype,t),e}};!function(){if("querySelectorAll"in e){var i=s.create({m:function(){var t=this;if(t.l.apply(t,arguments),this.o=[],!t.p&&t.q){t.p=[];var n=t.q.querySelectorAll("tbody tr");t.rows||(t.rows=n.length);for(var i=0;i<n.length;++i){var s=[],a=n[i].querySelectorAll(".c");t.columns||(t.columns=a.length);for(var u=0;u<a.length;++u)s.push(new o({s:a[u]}));t.p.push(s)}}if(t.t||(t.t=e.querySelector(".gameControls")),t.u=t.t.querySelector(".previousTick"),t.u&&(t.u.hasAttribute("href")&&(t.v=t.u.getAttribute("href")),t.u=t.A(t.u),r.addListener(t.u,"click",function(){t.B()})),t.C=t.t.querySelector(".nextTick"),t.C&&(t.C=t.A(t.C),r.addListener(t.C,"click",function(){t.D()})),t.interval||(t.interval=window.Math.ceil(t.rows*t.columns/12+250)),t.F||(t.F=this.s.querySelector(".tickCount b")),!t.G){var c=e.createElement("li");c.innerHTML='<button class="playA">Play</button> ',t.G=c.querySelector("button");var l=function(){var e=t.t;e.parentNode.querySelector(":hover")===e||e.querySelector(":hover")?setTimeout(function(){l()},100):e.insertBefore(c,e.querySelectorAll("li")[0])};l()}t.G&&(r.addListener(t.G,"click",function(){t.H()}),t.s.setAttribute("data-playing","stopped")),t.I||t.J(t.s.getAttribute("data-tick")?parseInt(t.s.getAttribute("data-tick"),10):1)},columns:n,t:n,A:function(t){var e=t.parentNode;return e.innerHTML=e.innerHTML.replace("<a","<button").replace("</a>","</button>"),t=e.querySelector("button"),t.removeAttribute("href"),t},s:n,K:function(t,e){for(var n=0,i=t>0?t-1:t;t+1>=i&&i<this.rows;++i)for(var r=e>0?e-1:e;e+1>=r&&r<this.columns;++r)i===t&&r===e||!this.M(i,r).L||++n;return n},q:n,M:function(t,e){return this.p[t][e]},p:n,C:n,u:n,v:n,rows:n,I:n,F:n,interval:void 0,N:!1,G:n,H:function(){var e=this;if(e.N)e.s.setAttribute("data-playing","stopped"),e.G.innerHTML="Play",e.O&&t.clearTimeout(e.O),e.N=!1;else{e.s.setAttribute("data-playing","playing"),e.G.innerHTML="Stop";var n=function(){e.D(),e.O=t.setTimeout(n,e.interval)};n(),e.N=!0}},O:n,o:n,P:function(t){for(var e=0;e<t.length;++e)t[e].R()},J:function(e){var n=this;n.I=t.parseInt(e,10),n.F&&(n.F.innerHTML=n.I),n.u&&(1===n.I?n.u.disabled=!0:n.u.disabled&&(n.u.disabled=!1))},B:function(){var e=this;e.S||(e.o.length?(e.S=!0,e.P(e.o.pop()),e.J(e.I-1),e.S=!1):e.v&&(t.location.href=e.v))},D:function(){var t=this;if(!t.S){t.S=!0;for(var e=[],n=0;n<t.rows;++n)for(var i=0;i<t.columns;++i){var r=t.M(n,i),s=t.K(n,i);(r.L?2!==s&&3!==s:3===s)&&e.push(r)}t.P(e),t.o.push(e),t.J(t.I+1),t.S=!1}},S:!1}),o=s.create({m:function(){this.l.apply(this,arguments),"undefined"==typeof this.L&&this.s&&(this.L=r.h(this.s,"alive")),this.s&&!this.T&&(this.T=this.s.querySelector("abbr"))},T:n,L:n,U:function(t){t!==this.L&&(this.L=t,this.s&&(t?(r.g(this.s,"alive"),r.j(this.s,"dead"),this.T&&(this.T.title="alive",this.T.innerHTML="O")):(r.j(this.s,"alive"),r.g(this.s,"dead"),this.T&&(this.T.title="dead",this.T.innerHTML="X"))))},R:function(){return this.U(!this.L)},s:n}),a=e.querySelector(".game");if(a){new i({s:a,q:e.getElementById("grid")})}}}(),function(){if("querySelectorAll"in e&&"onhashchange"in t){var i=s.create({m:function(){var e=this;e.l.apply(e,arguments),r.addListener(t,"hashchange",function(){e.V()}),e.V()},V:function(){var n=this,i=t.location.hash.replace(/^#/,"");if(i){for(var s=!1,o=0;o<n.W.length;++o)n.W[o].id===i&&(s=!0);s?(n.isOpen=n.X=!0,r.addListener(e.body,"keyup",n.Y())):n.close()}else n.close()},close:function(){var n=this;n.isOpen&&(n.isOpen=!1,t.location.hash="#"),n.X&&n.Z&&(n.X=!1,r.removeListener(e.body,"keyup",n.Z))},W:n,Z:n,Y:function(){var t=this;return t.Z||(t.Z=function(e){var n=!1;n="key"in e?"Escape"===e.key||"Esc"===e.key:27===e.keyCode,n&&t.close()}),t.Z},isOpen:!1,X:!1}),o=e.querySelectorAll(".pane");o&&o.length&&new i({W:o})}}()}(window,window.document);
